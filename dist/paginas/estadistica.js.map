{
  "version": 3,
  "sources": ["../../Frontend/auth/authStore.js", "../../Frontend/apicliente.js", "../../Frontend/components/loadingOverlay.js", "../../Frontend/components/toolbar.js", "../../Frontend/paginas/estadistica.js"],
  "sourcesContent": ["const TOKEN_KEY = 'finhub_token';\nconst TOKEN_EXP_KEY = 'finhub_token_exp';\nconst PROFILE_KEY = 'finhub_profile';\nconst storage = sessionStorage;\n\nconst nowSeconds = () => Math.floor(Date.now() / 1000);\n\nexport const authStore = {\n  getToken() {\n    const exp = Number(storage.getItem(TOKEN_EXP_KEY) || 0);\n    if (exp && nowSeconds() >= exp) {\n      this.clearToken();\n      return null;\n    }\n    return storage.getItem(TOKEN_KEY);\n  },\n  setToken(token, expiresInSeconds = 3600) {\n    storage.setItem(TOKEN_KEY, token);\n    storage.setItem(TOKEN_EXP_KEY, String(nowSeconds() + expiresInSeconds));\n  },\n  clearToken() {\n    storage.removeItem(TOKEN_KEY);\n    storage.removeItem(TOKEN_EXP_KEY);\n    storage.removeItem(PROFILE_KEY);\n  },\n  setProfile(profile) {\n    storage.setItem(PROFILE_KEY, JSON.stringify(profile));\n  },\n  getProfile() {\n    const value = storage.getItem(PROFILE_KEY);\n    return value ? JSON.parse(value) : null;\n  },\n};\n", "import { authStore } from './auth/authStore.js';\n\n/** Devuelve en tiempo de ejecuci\u00F3n la URL base que indica el entorno sin ning\u00FAn hardcode. */\nexport const getBaseUrl = (() => {\n  let cached = '';\n  return () => {\n    if (cached !== '') {\n      return cached;\n    }\n    const envBase = window.__ENV?.API_BASE_URL;\n    if (!envBase) {\n      throw new Error('API_BASE_URL no est\u00E1 configurada en window.__ENV');\n    }\n    cached = envBase.endsWith('/') ? envBase.slice(0, -1) : envBase;\n    return cached;\n  };\n})();\n\n/** Construye la URL final agregando la base configurada si la ruta es relativa. */\nconst buildUrl = (path) => (path.startsWith('http') ? path : `${getBaseUrl()}${path}`);\n\n/** Borra el token y redirige al login (forzando la ventana top) si el backend responde con 401. */\nconst handleUnauthorized = () => {\n  authStore.clearToken();\n  const target = '/';\n  if (window.top && window.top !== window) {\n    window.top.location.href = target;\n  } else {\n    window.location.href = target;\n  }\n};\n\n/** Fusiona headers adicionales con el header JSON obligatorio. */\nconst buildHeaders = (extraHeaders) => ({\n  'Content-Type': 'application/json',\n  ...extraHeaders,\n});\n\n/** Extrae el payload JSON o devuelve null si no viene contenido v\u00E1lido. */\nconst parsePayload = async (response) => response.json().catch(() => null);\n\n/**\n * Env\u00EDa una petici\u00F3n HTTP contra la API, gestionando tokens, errores y JSON.\n * @param path Ruta relativa o absoluta del recurso.\n * @param options Configuraci\u00F3n adicional de fetch.\n */\nexport const apiClient = async (path, options = {}) => {\n  const { method = 'GET', body, headers = {}, ...rest } = options;\n  const composedHeaders = buildHeaders(headers);\n  const token = authStore.getToken() ?? localStorage.getItem(\"jwt\");\n\n  if (token) {\n    composedHeaders.Authorization = `Bearer ${token}`;\n  }\n  \n  const response = await fetch(buildUrl(path), {\n    method,\n    credentials: 'include',\n    headers: composedHeaders,\n    body: body === undefined ? undefined : JSON.stringify(body),\n    ...rest,\n  });\n\n  const payload = await parsePayload(response);\n  if (!response.ok) {\n    if (response.status === 401) {\n      handleUnauthorized();\n    }\n    const err = payload?.error ?? {\n      code: `http.${response.status}`,\n      message: response.statusText,\n    };\n    throw { status: response.status, error: err };\n  }\n\n  return payload;\n};\n\n/** Genera un helper para m\u00E9todos que env\u00EDan body JSON. */\nconst withBody = (method) => (path, body) => apiClient(path, { method, body });\n\n/** Genera un helper para m\u00E9todos sin body. */\nconst withoutBody = (method) => (path) => apiClient(path, { method });\n\n/** Env\u00EDa un POST con body serializado. */\nexport const postJson = withBody('POST');\n\n/** Env\u00EDa un PATCH con body serializado. */\nexport const patchJson = withBody('PATCH');\n\n/** Ejecuta una petici\u00F3n DELETE sin body. */\nexport const deleteJson = withoutBody('DELETE');\n\n/** Ejecuta una petici\u00F3n GET sin body. */\nexport const getJson = withoutBody('GET');\n", "const STYLE_ID = 'app-loading-overlay-style';\n\nconst injectStyles = () => {\n  if (document.getElementById(STYLE_ID)) return;\n  const style = document.createElement('style');\n  style.id = STYLE_ID;\n  style.textContent = `\n    .app-loading-overlay {\n      position: fixed;\n      inset: 0;\n      background: rgba(3, 7, 18, 0.78);\n      backdrop-filter: blur(2px);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 9999;\n      opacity: 0;\n      pointer-events: none;\n      transition: opacity 0.18s ease;\n    }\n    .app-loading-overlay.visible {\n      opacity: 1;\n      pointer-events: all;\n    }\n    .app-loading-spinner {\n      width: 70px;\n      height: 70px;\n      border-radius: 50%;\n      border: 6px solid rgba(148, 163, 184, 0.35);\n      border-top-color: #22d3ee;\n      animation: app-spin 0.9s linear infinite;\n      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);\n    }\n    @keyframes app-spin {\n      to { transform: rotate(360deg); }\n    }\n  `;\n  document.head.appendChild(style);\n};\n\n/** Crea un overlay reutilizable con spinner centrado. */\nexport const createLoadingOverlay = () => {\n  injectStyles();\n  const overlay = document.createElement('div');\n  overlay.className = 'app-loading-overlay';\n\n  const spinner = document.createElement('div');\n  spinner.className = 'app-loading-spinner';\n  overlay.appendChild(spinner);\n\n  const state = { counter: 0 };\n\n  const show = () => {\n    try {\n      state.counter += 1;\n      if (!overlay.isConnected) {\n        document.body.appendChild(overlay);\n      }\n      overlay.classList.add('visible');\n    } catch (error) {\n      console.info('[loadingOverlay] No se pudo mostrar overlay', error);\n    }\n  };\n\n  const hide = () => {\n    try {\n      state.counter = Math.max(0, state.counter - 1);\n      if (state.counter === 0) {\n        overlay.classList.remove('visible');\n      }\n    } catch (error) {\n      console.info('[loadingOverlay] No se pudo ocultar overlay', error);\n    }\n  };\n\n  const withLoader = async (fn) => {\n    show();\n    try {\n      return await fn();\n    } catch (error) {\n      console.info('[loadingOverlay] Error durante operaci\u00F3n envuelta', error);\n      throw error;\n    } finally {\n      hide();\n    }\n  };\n\n  return { show, hide, withLoader };\n};\n", "import { authStore } from '../auth/authStore.js';\n\nconst toolbarTemplate = `\n  <header class=\"toolbar\">\n    <div class=\"toolbar-logo\">\n      <a href=\"/Frontend/app.php\">\n        <img src=\"/logo/full_logoweb.png\" alt=\"FinHub\" style=\"height: 88px;\" />\n      </a>\n    </div>\n  <nav class=\"toolbar-menu\">\n      <button type=\"button\" class=\"icon-btn\" data-menu=\"portfolios\" data-link=\"/Frontend/Portafolios.html\" aria-label=\"Portafolios\">\n        <span class=\"circle-icon\">\uD83D\uDC5C</span>\n      </button>\n      <button type=\"button\" class=\"icon-btn\" data-menu=\"heatmap\" data-link=\"/Frontend/heatmap.html\" aria-label=\"Heatmap\">\n        <span class=\"circle-icon\">\uD83C\uDF21\uFE0F</span>\n      </button>\n      <button type=\"button\" class=\"icon-btn\" id=\"stats-menu\" data-menu=\"stats\" data-link=\"/Frontend/estadistica.html\" aria-label=\"Estad\u00EDstica\">\n        <span class=\"circle-icon\">\uD83D\uDCCA</span>\n      </button>\n      <button type=\"button\" class=\"icon-btn\" id=\"signals-menu\" data-menu=\"signals\" data-link=\"/Frontend/trader-consejero.html\" aria-label=\"Trader Consejero\">\n        <span class=\"circle-icon\">\uD83D\uDCB9</span>\n      </button>\n      <button type=\"button\" class=\"icon-btn\" id=\"oracle-menu\" data-menu=\"oracle\" data-link=\"/Frontend/oraculo.html\" aria-label=\"Or\u00E1culo\">\n        <span class=\"circle-icon\">\uD83D\uDD2E</span>\n      </button>\n      <button type=\"button\" class=\"icon-btn\" id=\"radar-menu\" data-menu=\"radar\" data-link=\"/Frontend/radar.html\" aria-label=\"Radar\">\n        <span class=\"circle-icon\">\uD83D\uDCE1</span>\n      </button>\n    </nav>\n    <div class=\"toolbar-user\">\n      <button id=\"user-menu-button\" type=\"button\">\n        <span id=\"user-name\">Usuario</span>\n        <span class=\"chevron\">\u25BE</span>\n      </button>\n    </div>\n    <button class=\"toolbar-toggle\" type=\"button\" aria-expanded=\"true\" aria-label=\"Ocultar barra\" title=\"Ocultar barra\">\u25B2</button>\n  </header>\n  <div class=\"user-dropdown\" id=\"user-dropdown\">\n    <button id=\"admin-users-action\" type=\"button\">Admin Usuarios</button>\n    <button id=\"logout-action\" type=\"button\">Cerrar sesi\u00F3n</button>\n  </div>\n`;\n\nlet toolbarMounted = false;\nconst isAdminProfile = (profile) => String(profile?.role ?? '').toLowerCase() === 'admin';\n\nconst ensureToolbarStyles = () => {\n  if (document.getElementById('toolbar-collapsible-style')) return;\n  const style = document.createElement('style');\n  style.id = 'toolbar-collapsible-style';\n  style.textContent = `\n    #toolbar-root > header.toolbar {\n      padding: 10px 56px 10px 12px;\n      gap: 10px;\n    }\n    .toolbar.has-toggle { position: sticky; top: 0; z-index: 15; padding-bottom: 28px; position: relative; }\n    .toolbar-toggle {\n      position: absolute;\n      right: 12px;\n      bottom: 6px;\n      width: 36px;\n      height: 36px;\n      border-radius: 999px;\n      border: 1px solid rgba(148, 163, 184, 0.45);\n      background: rgba(15, 23, 42, 0.85);\n      color: #e2e8f0;\n      cursor: pointer;\n      display: grid;\n      place-items: center;\n      box-shadow: 0 10px 30px rgba(0,0,0,0.35);\n    }\n    /* Cuando la barra est\u00E1 colapsada, dejamos el bot\u00F3n sobresalir >50% hacia abajo */\n    .toolbar.collapsed .toolbar-toggle {\n      bottom: -20px;\n    }\n    .toolbar-toggle:focus-visible { outline: 2px solid rgba(14, 165, 233, 0.6); outline-offset: 2px; }\n    .toolbar.collapsed .toolbar-menu,\n    .toolbar.collapsed .toolbar-user,\n    .toolbar.collapsed .toolbar-logo { display: none !important; }\n    .toolbar.collapsed { padding-bottom: 16px; }\n    .toolbar-logo img { border: none; outline: none; box-shadow: none; margin: 0; padding: 0; height: 72px; }\n    .toolbar-menu .icon-btn {\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      padding: 0;\n      border: none;\n      box-shadow: none;\n      background: rgba(15, 23, 42, 0.9);\n    }\n    .circle-icon { font-size: 1.1rem; line-height: 1; }\n    .toolbar-menu button,\n    .toolbar-menu select {\n      margin: 0;\n      border: none;\n      box-shadow: none;\n    }\n    @media (max-width: 768px) {\n      .toolbar {\n        display: grid;\n        grid-template-columns: 1fr 1fr;\n        grid-auto-rows: auto;\n        align-items: center;\n        gap: 6px 10px;\n        padding: 8px 56px 28px 12px;\n      }\n      .toolbar-logo {\n        grid-column: 1 / 2;\n        grid-row: 1;\n        display: flex;\n        align-items: center;\n        margin: 0;\n      }\n      .toolbar-user {\n        grid-column: 2 / 3;\n        grid-row: 1;\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        min-width: 0;\n        margin: 0;\n      }\n      .toolbar-menu {\n        grid-column: 1 / 3;\n        grid-row: 2;\n        width: 100%;\n        display: flex;\n        flex-wrap: wrap;\n        gap: 6px;\n        justify-content: flex-start;\n        margin-top: 4px;\n      }\n      .toolbar-menu button,\n      .toolbar-menu select {\n        padding: 8px 10px;\n        min-width: auto;\n        margin: 0;\n        border: none;\n        box-shadow: none;\n      }\n    }\n  `;\n  document.head.appendChild(style);\n};\n\nexport const setAdminMenuVisibility = (profile) => {\n  const adminButton = document.getElementById('admin-users-action');\n  const signalsButton = document.getElementById('signals-menu');\n  const isAdmin = isAdminProfile(profile);\n  if (adminButton) adminButton.hidden = !isAdmin;\n  if (signalsButton) signalsButton.hidden = false;\n};\n\nexport const renderToolbar = () => {\n  const container = document.getElementById('toolbar-root');\n  if (!container || toolbarMounted) {\n    return;\n  }\n  ensureToolbarStyles();\n  container.innerHTML = toolbarTemplate;\n  toolbarMounted = true;\n  const cachedProfile = authStore.getProfile();\n  setAdminMenuVisibility(cachedProfile);\n};\n\nexport const highlightToolbar = () => {\n  const path = window.location.pathname;\n  document.querySelectorAll('.toolbar-menu button').forEach((button) => {\n    const link = button.getAttribute('data-link');\n    button.classList.toggle('active', link === path);\n  });\n};\n\nconst updateToggleVisual = (toolbar, toggle) => {\n  const collapsed = toolbar.classList.contains('collapsed');\n  toggle.textContent = collapsed ? '\u25BC' : '\u25B2';\n  toggle.setAttribute('aria-expanded', String(!collapsed));\n  toggle.setAttribute('aria-label', collapsed ? 'Mostrar barra' : 'Ocultar barra');\n  toggle.title = collapsed ? 'Mostrar barra' : 'Ocultar barra';\n};\n\nexport const collapseToolbar = () => {\n  const toolbar = document.querySelector('.toolbar');\n  if (!toolbar) return;\n  toolbar.classList.add('collapsed');\n  const toggle = document.querySelector('.toolbar-toggle');\n  if (toggle) {\n    updateToggleVisual(toolbar, toggle);\n  }\n};\n\nconst bindToolbarToggle = () => {\n  const toolbar = document.querySelector('.toolbar');\n  const toggle = document.querySelector('.toolbar-toggle');\n  if (!toolbar || !toggle) return;\n  toolbar.classList.add('has-toggle');\n  updateToggleVisual(toolbar, toggle);\n  toggle.addEventListener('click', () => {\n    toolbar.classList.toggle('collapsed');\n    updateToggleVisual(toolbar, toggle);\n  });\n};\n\nexport const bindToolbarNavigation = () => {\n  const frame = document.getElementById('app-frame');\n  document.querySelectorAll('.toolbar-menu button').forEach((button) => {\n    button.addEventListener('click', (event) => {\n      const link = button.getAttribute('data-link');\n      if (!link) return;\n      if (frame) {\n        event.preventDefault();\n        if (frame.src !== link) {\n          frame.src = link;\n        }\n        document.querySelectorAll('.toolbar-menu button').forEach((b) => b.classList.remove('active'));\n        button.classList.add('active');\n        return;\n      }\n      event.preventDefault();\n      window.location.href = link;\n    });\n  });\n  bindToolbarToggle();\n};\n\nexport const setToolbarUserName = (name) => {\n  const label = document.getElementById('user-name');\n  if (!label) return;\n  label.textContent = name && name.length ? name : 'Usuario';\n};\n\nexport const bindUserMenu = ({ onLogout, onAdmin, profile } = {}) => {\n  const menuButton = document.getElementById('user-menu-button');\n  const dropdown = document.getElementById('user-dropdown');\n  if (!menuButton || !dropdown) return;\n  setAdminMenuVisibility(profile ?? authStore.getProfile());\n\n  menuButton.addEventListener('click', () => {\n    dropdown.classList.toggle('visible');\n  });\n\n  document.addEventListener('click', (event) => {\n    if (!menuButton.contains(event.target) && !dropdown.contains(event.target)) {\n      dropdown.classList.remove('visible');\n    }\n  });\n\n  const adminButton = document.getElementById('admin-users-action');\n  const logoutButton = document.getElementById('logout-action');\n  adminButton?.addEventListener('click', (event) => {\n    event.preventDefault();\n    dropdown.classList.remove('visible');\n    if (typeof onAdmin === 'function') {\n      onAdmin();\n    }\n  });\n  logoutButton?.addEventListener('click', (event) => {\n    event.preventDefault();\n    dropdown.classList.remove('visible');\n    if (typeof onLogout === 'function') {\n      onLogout();\n    }\n  });\n};\n", "import { getJson, postJson } from '../apicliente.js';\nimport { createLoadingOverlay } from '../components/loadingOverlay.js';\nimport { collapseToolbar } from '../components/toolbar.js';\n\nconst overlay = createLoadingOverlay();\nconst state = {\n  grouped: {},\n  run: null,\n  status: 'idle',\n  instruments: [],\n  lastChartSymbol: '',\n  snapWarning: '',\n};\n\n// --- R2Lite helpers -------------------------------------------------------\n\nconst guessCategory = (item) => {\n  const type = String(item?.type ?? '').toUpperCase();\n  const country = String(item?.country ?? '').toUpperCase();\n  const currency = String(item?.currency ?? '').toUpperCase();\n  const symbol = String(item?.symbol ?? item?.especie ?? '').toUpperCase();\n  if (type.includes('BOND') || type.includes('BONO')) return 'BONO';\n  if (type.includes('CEDEAR') || symbol.endsWith('D')) return 'CEDEAR';\n  if (country === 'AR' || currency === 'ARS') return 'ACCIONES_AR';\n  return 'MERCADO_GLOBAL';\n};\n\nconst providerOrder = (category) => {\n  // Preferir hist\u00F3ricos primero; rava queda como \u00FAltimo precio de respaldo\n  if (category === 'MERCADO_GLOBAL') return ['twelvedata', 'alphavantage', 'rava'];\n  return ['twelvedata', 'alphavantage', 'rava'];\n};\n\nconst fetchPortfolioInstruments = async () => {\n  const resp = await getJson('/portfolio/instruments');\n  const items = Array.isArray(resp?.data) ? resp.data : [];\n  state.instruments = items;\n  return items;\n};\n\nconst ensureSnapshots = async (symbolsInput) => {\n  const items = state.instruments.length ? state.instruments : await fetchPortfolioInstruments();\n  const symbolsSet = new Set((symbolsInput && symbolsInput.length ? symbolsInput : items.map((i) => i.symbol || i.especie || '')).map((s) => String(s).toUpperCase()).filter(Boolean));\n  if (!symbolsSet.size) return { ok: false, details: [] };\n\n  const byCategory = {};\n  items.forEach((it) => {\n    const sym = String(it.symbol || it.especie || '').toUpperCase();\n    if (!symbolsSet.has(sym)) return;\n    const cat = guessCategory(it);\n    byCategory[cat] = byCategory[cat] || [];\n    byCategory[cat].push(sym);\n  });\n\n  const details = [];\n  let warning = '';\n  for (const [category, symbols] of Object.entries(byCategory)) {\n    if (!symbols.length) continue;\n    const providers = providerOrder(category);\n    let success = false;\n    for (const provider of providers) {\n      const qs = encodeURIComponent(symbols.join(','));\n      try {\n        const res = await getJson(`/r2lite/${provider}/daily?symbols=${qs}&category=${encodeURIComponent(category)}`);\n        details.push({ category, provider, count: res?.count ?? 0, symbols });\n        success = (res?.count ?? 0) > 0 || provider === 'rava';\n        if (provider === 'rava' && warning === '' && (res?.count ?? 0) <= 1) {\n          warning = 'Solo se obtuvo \u00FAltimo precio (Rava), sin hist\u00F3rico suficiente para indicadores.';\n        }\n        if (success && provider !== 'rava') {\n          break; // ya tenemos hist\u00F3rico\n        }\n      } catch (error) {\n        console.info('[estadistica] R2Lite fallo', category, provider, error);\n        details.push({ category, provider, error: error?.error?.message ?? 'error', symbols });\n      }\n    }\n    if (!success && warning === '') {\n      warning = 'No se pudo obtener hist\u00F3rico; se intent\u00F3 m\u00FAltiple proveedor y fall\u00F3.';\n    }\n  }\n  state.snapWarning = warning;\n  const ok = details.every((d) => !d.error);\n  return { ok, details };\n};\n\nconst setStatus = (msg, type = '') => {\n  const el = document.getElementById('status-box');\n  if (!el) return;\n  el.textContent = msg || '';\n  el.className = `status ${type}`;\n};\n\nconst setBadges = (statusLabel, runLabel, dotColor = '#94a3b8') => {\n  const badgeRun = document.getElementById('badge-run');\n  const badgeStatus = document.getElementById('badge-status');\n  if (badgeRun) badgeRun.textContent = `\u00DAltimo run: ${runLabel}`;\n  if (badgeStatus) {\n    badgeStatus.innerHTML = `<span class=\"badge-dot\" style=\"background:${dotColor};\"></span> Estado: ${statusLabel}`;\n  }\n};\n\nconst formatMoney = (value) => {\n  if (!Number.isFinite(value)) return 'N/D';\n  return value >= 1 ? value.toFixed(2) : value.toPrecision(3);\n};\n\nconst renderTable = () => {\n  const tbody = document.getElementById('pred-table-body');\n  if (!tbody) return;\n  const symbols = Object.keys(state.grouped).sort();\n  if (symbols.length === 0) {\n    tbody.innerHTML = '<tr><td colspan=\"5\" class=\"muted\">Sin datos a\u00FAn.</td></tr>';\n    return;\n  }\n\n  const formatProjection = (item) => {\n    if (!item) return '<span class=\"muted\">\u2014</span>';\n    const dir = item.prediction;\n    const cls = dir === 'up' ? 'signal-up' : dir === 'down' ? 'signal-down' : 'signal-neutral';\n    const label = dir === 'up' ? 'Alza' : dir === 'down' ? 'Baja' : 'Neutral';\n    const delta = Number.isFinite(item.change_pct) ? `${(item.change_pct * 100).toFixed(2)}%` : 'N/D';\n    return `<span class=\"${cls}\">${label} \u00B7 ${delta}</span>`;\n  };\n\n  tbody.innerHTML = symbols.map((symbol) => {\n    const row = state.grouped[symbol];\n    const price = formatMoney(row.price);\n    const confidence = row.selected?.confidence !== null && row.selected?.confidence !== undefined\n      ? `${(row.selected.confidence * 100).toFixed(1)}%`\n      : 'N/D';\n    return `\n      <tr>\n        <td>${row.especie || symbol}</td>\n        <td>${price}</td>\n        <td>${formatProjection(row.selected)}</td>\n        <td>${confidence}</td>\n        <td><button class=\"icon-button\" data-symbol=\"${symbol}\" data-especie=\"${row.especie || symbol}\" aria-label=\"Ver gr\u00E1fico de ${symbol}\">\uD83D\uDCC8 Gr\u00E1fico</button></td>\n      </tr>\n    `;\n  }).join('');\n\n  tbody.querySelectorAll('button[data-symbol]').forEach((btn) => {\n    btn.addEventListener('click', (event) => {\n      const symbol = btn.getAttribute('data-symbol');\n      if (symbol) {\n        overlay.withLoader(() => openChart(symbol)).catch((err) => {\n          console.info('[estadistica] No se pudo abrir gr\u00E1fico', err);\n          setStatus('No se pudo cargar el gr\u00E1fico', 'error');\n        });\n      }\n    });\n  });\n};\n\nconst groupPredictions = (items) => {\n  const grouped = {};\n  items.forEach((item) => {\n    const symbol = String(item.symbol ?? '').toUpperCase();\n    const especie = String(item.especie ?? item.symbol ?? '').toUpperCase();\n    if (!symbol) return;\n    if (!grouped[symbol]) {\n      grouped[symbol] = {\n        symbol,\n        especie,\n        price: item.price ?? null,\n        price_as_of: item.price_as_of ?? null,\n        horizons: {},\n        confidenceAvg: null,\n      };\n    }\n    grouped[symbol].horizons[item.horizon] = {\n      prediction: item.prediction,\n      confidence: item.confidence,\n      change_pct: item.change_pct ?? null,\n    };\n  });\n\n  Object.keys(grouped).forEach((key) => {\n    const horizons = grouped[key].horizons;\n    const preferred = horizons[90] ?? horizons[60] ?? horizons[30] ?? null;\n    grouped[key].selected = preferred;\n  });\n\n  state.grouped = grouped;\n};\n\nconst showAnalysisOverlay = (message, redirect = false) => {\n  const overlayEl = document.getElementById('analysis-overlay');\n  const titleEl = document.getElementById('analysis-overlay-title');\n  const textEl = document.getElementById('analysis-overlay-text');\n  if (!overlayEl || !titleEl || !textEl) return;\n  titleEl.textContent = 'An\u00E1lisis en curso';\n  textEl.textContent = message;\n  overlayEl.classList.add('visible');\n  overlayEl.setAttribute('aria-hidden', 'false');\n  setTimeout(() => {\n    overlayEl.classList.remove('visible');\n    overlayEl.setAttribute('aria-hidden', 'true');\n    if (redirect) {\n      window.location.href = '/Frontend/Portafolios.html';\n    }\n  }, 5000);\n};\n\nconst fetchLatest = async () => {\n  setStatus('Preparando datos (R2Lite)...', 'info');\n  // Garantizar snapshots previos para los s\u00EDmbolos del portafolio\n  const ingest = await ensureSnapshots();\n  if (!ingest.ok) {\n    setStatus('No se pudieron preparar snapshots (R2Lite)', 'error');\n    setBadges('Error ingestando', 'n/a', '#ef4444');\n    return;\n  }\n  if (state.snapWarning) {\n    setStatus(state.snapWarning, 'info');\n  }\n  setBadges('Snapshots OK', 'n/a', '#22c55e');\n  setStatus('Cargando predicciones...', 'info');\n\n  const resp = await getJson('/analytics/predictions/latest');\n  const status = resp?.status ?? 'unknown';\n  state.status = status;\n\n  if (status === 'running') {\n    setBadges('En progreso', 'n/a', '#eab308');\n    setStatus('Hay un an\u00E1lisis en curso, se redirigir\u00E1 a Portafolios.', 'info');\n    showAnalysisOverlay('Ya hay un an\u00E1lisis ejecut\u00E1ndose. Evitamos lanzarlo de nuevo.', true);\n    return;\n  }\n\n  if (status === 'empty') {\n    setBadges('Pendiente', 'n/a', '#eab308');\n    setStatus('Sin an\u00E1lisis previo, iniciando c\u00E1lculo...', 'info');\n    await triggerRun(true);\n    return;\n  }\n\n  if (status !== 'ready') {\n    setStatus('No se pudo obtener el estado de predicciones', 'error');\n    return;\n  }\n\n  const predictions = Array.isArray(resp.predictions) ? resp.predictions : [];\n  groupPredictions(predictions);\n  state.run = resp.run ?? null;\n  const runLabel = resp.run?.finished_at ?? resp.run?.started_at ?? '--';\n  setBadges('Listo', runLabel, '#22c55e');\n  setStatus('', '');\n  renderTable();\n};\n\nconst triggerRun = async (redirectAfter = false) => {\n  // Preparar snapshots antes de lanzar el run\n  setStatus('Preparando snapshots (R2Lite)...', 'info');\n  const ingest = await ensureSnapshots();\n  if (!ingest.ok) {\n    setStatus('No se pudieron preparar snapshots (R2Lite)', 'error');\n    setBadges('Error ingestando', 'n/a', '#ef4444');\n    return;\n  }\n  if (state.snapWarning) {\n    setStatus(state.snapWarning, 'info');\n  }\n  setBadges('Snapshots OK', 'n/a', '#22c55e');\n  const resp = await postJson('/analytics/predictions/run/me', {});\n  const status = resp?.status ?? 'unknown';\n  const runId = resp?.run_id ?? resp?.run?.id ?? null;\n  const label = runId ? `run ${runId}` : 'n/a';\n  if (status === 'running') {\n    setBadges('En progreso', label, '#eab308');\n    showAnalysisOverlay('Analizando instrumentos seleccionados...', redirectAfter);\n    return;\n  }\n  if (status === 'skipped') {\n    setBadges('Pendiente', label, '#eab308');\n    setStatus('No hay instrumentos en el portafolio para analizar.', 'info');\n    return;\n  }\n  if (status === 'success' || status === 'partial') {\n    setBadges('Completado', label, '#22c55e');\n    if (redirectAfter) {\n      showAnalysisOverlay('An\u00E1lisis ejecutado. Te redirigimos a Portafolios en segundos.', true);\n      return;\n    }\n    setStatus('An\u00E1lisis finalizado, recargando tabla...', 'info');\n    await fetchLatest();\n    return;\n  }\n  setStatus('No se pudo lanzar el an\u00E1lisis', 'error');\n};\n\nconst rsiSeries = (closes, period = 14) => {\n  const result = [];\n  for (let i = 0; i < closes.length; i++) {\n    if (i < period) {\n      result.push(null);\n      continue;\n    }\n    let gains = 0;\n    let losses = 0;\n    for (let j = i - period + 1; j <= i; j++) {\n      const change = closes[j] - closes[j - 1];\n      if (change > 0) gains += change;\n      else losses += Math.abs(change);\n    }\n    if (losses === 0) {\n      result.push(70);\n      continue;\n    }\n    const rs = gains / losses;\n    result.push(100 - 100 / (1 + rs));\n  }\n  return result;\n};\n\nconst bollinger = (closes, window = 20, multiplier = 2) => {\n  const bands = [];\n  for (let i = 0; i < closes.length; i++) {\n    if (i + 1 < window) {\n      bands.push({ mid: null, upper: null, lower: null });\n      continue;\n    }\n    const slice = closes.slice(i - window + 1, i + 1);\n    const avg = slice.reduce((a, b) => a + b, 0) / slice.length;\n    const variance = slice.reduce((acc, v) => acc + (v - avg) ** 2, 0) / slice.length;\n    const std = Math.sqrt(variance);\n    bands.push({ mid: avg, upper: avg + multiplier * std, lower: avg - multiplier * std });\n  }\n  return bands;\n};\n\nconst drawLineChart = (canvas, points, { color = '#22d3ee', label = '' } = {}) => {\n  const ctx = canvas.getContext('2d');\n  if (!ctx) return;\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  if (!points.length) {\n    ctx.fillStyle = '#94a3b8';\n    ctx.fillText('Sin datos para graficar', 20, 30);\n    return;\n  }\n  const margin = { top: 20, right: 20, bottom: 30, left: 60 };\n  const width = canvas.width - margin.left - margin.right;\n  const height = canvas.height - margin.top - margin.bottom;\n  const xs = points.map((p) => p.t.getTime());\n  const ys = points.map((p) => p.v).filter((v) => Number.isFinite(v));\n  const minX = Math.min(...xs);\n  const maxX = Math.max(...xs);\n  const minY = Math.min(...ys);\n  const maxY = Math.max(...ys);\n  const scaleX = (t) => margin.left + ((t - minX) / Math.max(1, maxX - minX)) * width;\n  const scaleY = (v) => margin.top + height - ((v - minY) / Math.max(1e-6, maxY - minY)) * height;\n\n  ctx.strokeStyle = 'rgba(148,163,184,0.4)';\n  ctx.beginPath();\n  ctx.moveTo(margin.left, margin.top);\n  ctx.lineTo(margin.left, margin.top + height);\n  ctx.lineTo(margin.left + width, margin.top + height);\n  ctx.stroke();\n\n  ctx.strokeStyle = color;\n  ctx.beginPath();\n  points.forEach((p, idx) => {\n    if (!Number.isFinite(p.v)) return;\n    const x = scaleX(p.t.getTime());\n    const y = scaleY(p.v);\n    if (idx === 0) ctx.moveTo(x, y);\n    else ctx.lineTo(x, y);\n  });\n  ctx.stroke();\n\n  if (label) {\n    ctx.fillStyle = color;\n    ctx.font = '12px Inter, system-ui, sans-serif';\n    ctx.fillText(label, margin.left + 8, margin.top + 14);\n  }\n};\n\nconst filterByRange = (points, days) => {\n  if (!Number.isFinite(days) || days <= 0) return points;\n  const cutoff = new Date();\n  cutoff.setDate(cutoff.getDate() - days);\n  return points.filter((p) => p.t >= cutoff);\n};\n\nconst buildTicks = (min, max, count = 4) => {\n  const ticks = [];\n  if (!Number.isFinite(min) || !Number.isFinite(max)) return ticks;\n  const step = (max - min) / Math.max(1, count);\n  for (let i = 0; i <= count; i++) {\n    ticks.push(min + step * i);\n  }\n  return ticks;\n};\n\nconst drawAxes = (ctx, margin, width, height, minX, maxX, minY, maxY) => {\n  ctx.strokeStyle = 'rgba(148,163,184,0.35)';\n  ctx.beginPath();\n  ctx.moveTo(margin.left, margin.top);\n  ctx.lineTo(margin.left, margin.top + height);\n  ctx.lineTo(margin.left + width, margin.top + height);\n  ctx.stroke();\n\n  const yTicks = buildTicks(minY, maxY, 4);\n  ctx.fillStyle = '#94a3b8';\n  ctx.font = '11px Inter, system-ui, sans-serif';\n  yTicks.forEach((val) => {\n    const y = margin.top + height - ((val - minY) / Math.max(1e-6, maxY - minY)) * height;\n    ctx.fillText(val.toFixed(2), 6, y + 4);\n    ctx.strokeStyle = 'rgba(148,163,184,0.15)';\n    ctx.beginPath();\n    ctx.moveTo(margin.left, y);\n    ctx.lineTo(margin.left + width, y);\n    ctx.stroke();\n  });\n\n  const xTicks = buildTicks(minX, maxX, 3);\n  xTicks.forEach((val) => {\n    const x = margin.left + ((val - minX) / Math.max(1, maxX - minX)) * width;\n    const d = new Date(val);\n    const label = `${String(d.getDate()).padStart(2, '0')}/${String(d.getMonth() + 1).padStart(2, '0')}`;\n    ctx.fillText(label, x - 14, margin.top + height + 16);\n    ctx.strokeStyle = 'rgba(148,163,184,0.15)';\n    ctx.beginPath();\n    ctx.moveTo(x, margin.top);\n    ctx.lineTo(x, margin.top + height);\n    ctx.stroke();\n  });\n};\n\nconst drawPriceChart = (points, bands) => {\n  const canvas = document.getElementById('price-canvas');\n  if (!canvas) return;\n  const ctx = canvas.getContext('2d');\n  if (!ctx) return;\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  if (!points.length) {\n    ctx.fillStyle = '#94a3b8';\n    ctx.fillText('Sin datos para graficar', 20, 30);\n    return;\n  }\n  const margin = { top: 20, right: 20, bottom: 30, left: 70 };\n  const width = canvas.width - margin.left - margin.right;\n  const height = canvas.height - margin.top - margin.bottom;\n  const xs = points.map((p) => p.t.getTime());\n  const prices = points.map((p) => p.v).filter((v) => Number.isFinite(v));\n  const uppers = bands.map((b) => b.upper).filter((v) => Number.isFinite(v));\n  const lowers = bands.map((b) => b.lower).filter((v) => Number.isFinite(v));\n  const allY = prices.concat(uppers).concat(lowers).filter(Number.isFinite);\n  if (!allY.length) {\n    ctx.fillStyle = '#94a3b8';\n    ctx.fillText('Sin datos para graficar', 20, 30);\n    return;\n  }\n  const minX = Math.min(...xs);\n  const maxX = Math.max(...xs);\n  const minY = Math.min(...allY);\n  const maxY = Math.max(...allY);\n  const scaleX = (t) => margin.left + ((t - minX) / Math.max(1, maxX - minX)) * width;\n  const scaleY = (v) => margin.top + height - ((v - minY) / Math.max(1e-6, maxY - minY)) * height;\n\n  drawAxes(ctx, margin, width, height, minX, maxX, minY, maxY);\n\n  // Bollinger bands\n  ctx.strokeStyle = 'rgba(14,165,233,0.5)';\n  ctx.beginPath();\n  bands.forEach((b, idx) => {\n    if (!Number.isFinite(b.upper) || !Number.isFinite(b.lower)) return;\n    const x = scaleX(xs[idx]);\n    const yUpper = scaleY(b.upper);\n    const yLower = scaleY(b.lower);\n    if (idx === 0) {\n      ctx.moveTo(x, yUpper);\n    } else {\n      ctx.lineTo(x, yUpper);\n    }\n  });\n  ctx.stroke();\n\n  ctx.beginPath();\n  bands.forEach((b, idx) => {\n    if (!Number.isFinite(b.lower)) return;\n    const x = scaleX(xs[idx]);\n    const yLower = scaleY(b.lower);\n    if (idx === 0) ctx.moveTo(x, yLower);\n    else ctx.lineTo(x, yLower);\n  });\n  ctx.stroke();\n\n  // Precio\n  ctx.strokeStyle = '#22d3ee';\n  ctx.beginPath();\n  points.forEach((p, idx) => {\n    if (!Number.isFinite(p.v)) return;\n    const x = scaleX(p.t.getTime());\n    const y = scaleY(p.v);\n    if (idx === 0) ctx.moveTo(x, y);\n    else ctx.lineTo(x, y);\n  });\n  ctx.stroke();\n\n  ctx.fillStyle = '#22d3ee';\n  ctx.font = '12px Inter, system-ui, sans-serif';\n  ctx.fillText('Precio + Bandas Bollinger', margin.left + 8, margin.top + 14);\n};\n\nconst drawRsiChart = (points) => {\n  const canvas = document.getElementById('rsi-canvas');\n  if (!canvas) return;\n  const ctx = canvas.getContext('2d');\n  if (!ctx) return;\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  if (!points.length) {\n    ctx.fillStyle = '#94a3b8';\n    ctx.fillText('Sin RSI disponible', 20, 30);\n    return;\n  }\n\n  const margin = { top: 16, right: 20, bottom: 24, left: 60 };\n  const width = canvas.width - margin.left - margin.right;\n  const height = canvas.height - margin.top - margin.bottom;\n  const xs = points.map((p) => p.t.getTime());\n  const ys = points.map((p) => p.v).filter((v) => Number.isFinite(v));\n  if (!ys.length) {\n    ctx.fillStyle = '#94a3b8';\n    ctx.fillText('Sin RSI disponible', 20, 30);\n    return;\n  }\n  const minX = Math.min(...xs);\n  const maxX = Math.max(...xs);\n  const minY = 0;\n  const maxY = 100;\n  const scaleX = (t) => margin.left + ((t - minX) / Math.max(1, maxX - minX)) * width;\n  const scaleY = (v) => margin.top + height - ((v - minY) / Math.max(1e-6, maxY - minY)) * height;\n\n  drawAxes(ctx, margin, width, height, minX, maxX, minY, maxY);\n\n  // Zonas RSI\n  ctx.strokeStyle = 'rgba(248, 113, 113, 0.4)';\n  ctx.beginPath();\n  ctx.moveTo(margin.left, scaleY(70));\n  ctx.lineTo(margin.left + width, scaleY(70));\n  ctx.stroke();\n  ctx.strokeStyle = 'rgba(34, 197, 94, 0.4)';\n  ctx.beginPath();\n  ctx.moveTo(margin.left, scaleY(30));\n  ctx.lineTo(margin.left + width, scaleY(30));\n  ctx.stroke();\n\n  ctx.strokeStyle = '#a855f7';\n  ctx.beginPath();\n  points.forEach((p, idx) => {\n    if (!Number.isFinite(p.v)) return;\n    const x = scaleX(p.t.getTime());\n    const y = scaleY(p.v);\n    if (idx === 0) ctx.moveTo(x, y);\n    else ctx.lineTo(x, y);\n  });\n  ctx.stroke();\n\n  ctx.fillStyle = '#a855f7';\n  ctx.font = '12px Inter, system-ui, sans-serif';\n  ctx.fillText('RSI 14', margin.left + 8, margin.top + 14);\n};\n\nconst openChart = async (symbol) => {\n  collapseToolbar();\n  const overlayEl = document.getElementById('chart-overlay');\n  if (!overlayEl) return;\n  const rangeSelect = document.getElementById('chart-range');\n  const rangeVal = rangeSelect?.value || 'all';\n  const days = rangeVal === 'all' ? null : Number(rangeVal);\n  state.lastChartSymbol = symbol;\n\n  const entry = state.grouped[symbol] ?? {};\n  const especie = (entry.especie || state.speciesMap[symbol] || symbol).toUpperCase();\n  const period = days === null ? '12m' : (days <= 30 ? '1m' : (days <= 90 ? '3m' : '6m'));\n  // Asegurar snapshot para el s\u00EDmbolo antes de leer del Data Lake\n  await ensureSnapshots([especie]);\n  const resp = await getJson(`/datalake/prices/series?symbol=${encodeURIComponent(especie)}&period=${encodeURIComponent(period)}`);\n  const points = Array.isArray(resp?.points) ? resp.points : [];\n  const parsed = points.map((p) => {\n    const candidates = [p.close, p.price, p.cierre, p.ajuste, p.ultimo];\n    const close = candidates.find((v) => Number.isFinite(v));\n    if (!Number.isFinite(close)) return null;\n    const rawTime = p.t ?? p.as_of ?? p.fecha ?? p.date ?? null;\n    const t = rawTime ? new Date(rawTime) : new Date();\n    return { t, v: Number(close) };\n  }).filter(Boolean).sort((a, b) => a.t.getTime() - b.t.getTime());\n\n  const filtered = days ? filterByRange(parsed, days) : parsed;\n  if (!filtered.length) {\n    const title = document.getElementById('chart-title');\n    const subtitle = document.getElementById('chart-subtitle');\n    if (title) title.textContent = especie;\n    if (subtitle) subtitle.textContent = 'Sin datos en el rango seleccionado';\n    overlayEl.classList.add('visible');\n    overlayEl.setAttribute('aria-hidden', 'false');\n    document.body.classList.add('no-scroll');\n    return;\n  }\n\n  const closes = filtered.map((p) => p.v);\n  const bands = bollinger(closes);\n  drawPriceChart(filtered, bands);\n\n  const rsiValues = rsiSeries(closes);\n  const rsiPoints = rsiValues.map((v, idx) => ({ t: filtered[idx]?.t ?? new Date(), v }));\n  drawRsiChart(rsiPoints);\n\n  const title = document.getElementById('chart-title');\n  const subtitle = document.getElementById('chart-subtitle');\n  if (title) title.textContent = especie;\n  if (subtitle) subtitle.textContent = days ? `Hist\u00F3rico ${days}d + RSI/Bandas de Bollinger` : 'Hist\u00F3rico completo + RSI/Bandas de Bollinger';\n\n  overlayEl.classList.add('visible');\n  overlayEl.setAttribute('aria-hidden', 'false');\n  document.body.classList.add('no-scroll');\n};\n\nconst bindOverlayClose = () => {\n  const overlayEl = document.getElementById('chart-overlay');\n  const closeBtn = document.getElementById('chart-close-btn');\n  if (!overlayEl || !closeBtn) return;\n  const close = () => {\n    overlayEl.classList.remove('visible');\n    overlayEl.setAttribute('aria-hidden', 'true');\n    document.body.classList.remove('no-scroll');\n  };\n  closeBtn.addEventListener('click', close);\n  overlayEl.addEventListener('click', (event) => {\n    if (event.target === overlayEl) {\n      close();\n    }\n  });\n};\n\nconst init = async () => {\n  bindOverlayClose();\n  document.getElementById('chart-range')?.addEventListener('change', () => {\n    if (state.lastChartSymbol) {\n      overlay.withLoader(() => openChart(state.lastChartSymbol)).catch(() => setStatus('No se pudo recargar el gr\u00E1fico', 'error'));\n    }\n  });\n  document.getElementById('btn-refresh')?.addEventListener('click', () => overlay.withLoader(fetchLatest));\n  document.getElementById('btn-run')?.addEventListener('click', () => overlay.withLoader(() => triggerRun(false)));\n  await overlay.withLoader(fetchLatest);\n};\n\ndocument.addEventListener('DOMContentLoaded', init);\n"],
  "mappings": "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",
  "names": ["overlay", "state", "window", "title", "subtitle"]
}
